<ion-header>
    <ion-navbar>
        <button ion-button icon-only menuToggle>
            <ion-icon name="menu"></ion-icon>
        </button>
        <ion-title>
            {{title}}
        </ion-title>
    </ion-navbar>
</ion-header>

<ion-content>
    <div class="main">
        <ion-spinner *ngIf="!isReady"></ion-spinner>
        <div *ngIf="isReady" class="lineup">
            <ion-spinner *ngIf="!news"></ion-spinner>
            <ion-list *ngIf="news" class="news">
                <ion-item>
                    <h1>{{ news.title }}</h1>
                    <p>{{ news.message }}</p>
                </ion-item>
                <button ion-item *ngFor="let item of news.filter()" (click)="choose(item)">
                    <ion-thumbnail item-left>
                        <img [src]="item.titleImage.url">
                    </ion-thumbnail>
                    <h1>{{item.name}}</h1>
                    <p class="desc">{{item.description}}</p>
                    <p class="price" text-right>
                        {{priceName}}
                        <span class="value">
                            {{priceUnit}}{{item.price | number}}
                        </span>
                    </p>
                </button>
            </ion-list>

            <div *ngIf="categoryKeys" class="selector">
                <ion-item>
                    <ion-label>{{ titleCategorySelect }}</ion-label>
                    <ion-select [(ngModel)]="selectedCategoryKey">
                        <ion-option [value]="null" [selected]="selectedCategoryKey === null">{{ unselectedCategoryKey }}</ion-option>
                        <ion-option *ngFor="let key of categoryKeys"
                            [value]="key"
                            [selected]="key === selectedCategoryKey">
                            {{ categories[key].title }}
                        </ion-option>
                    </ion-select>
                </ion-item>
            </div>

            <div *ngIf="selectedCategoryKey" class="categorized">
                <ion-list [class]="selectedCategoryKey">
                    <ion-item>
                        <p>{{ categories[selectedCategoryKey].message }}</p>
                    </ion-item>
                    <button ion-item *ngFor="let item of categories[selectedCategoryKey].filter()" (click)="choose(item)">
                        <ion-thumbnail item-left>
                            <img [src]="item.titleImage.url">
                        </ion-thumbnail>
                        <h1>{{item.name}}</h1>
                        <p class="price" text-right>
                            {{priceName}}
                            <span class="value">
                                {{priceUnit}}{{item.price | number}}
                            </span>
                        </p>
                    </button>
                </ion-list>
            </div>

            <div *ngIf="!selectedCategoryKey && genderKeys" class="gender">
                <ion-list *ngFor="let key of genderKeys" [class]="key">
                    <ion-item>
                        <h1>{{ genders[key].title }}</h1>
                    </ion-item>
                    <button ion-item *ngFor="let item of genders[key].filter()" (click)="choose(item)">
                        <ion-thumbnail item-left>
                            <img [src]="item.titleImage.url">
                        </ion-thumbnail>
                        <h1>{{item.name}}</h1>
                        <p class="price" text-right>
                            {{priceName}}
                            <span class="value">
                                {{priceUnit}}{{item.price | number}}
                            </span>
                        </p>
                    </button>
                </ion-list>
            </div>
        </div>
    </div>
</ion-content>
